<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, user-scalable=no">
		<title>Example</title>
		<script type="module">
			import {download} from '../src/download.js'

			btn.addEventListener('click', async () => {
				const response = await globalThis.fetch('https://services.teleport.com.br/cors/load/?url=https://www.pexels.com/download/video/3129671/')
				await download(response, 'xxx.mp4', progress => {
					const p = progress.percent * 100
					bar.value = p
				})
			})
		</script>
	</head>
	<body>
		<button type="button" id="btn">Download</button>
		<progress id="bar" value="0" max="100"></progress>
	</body>
</html>
